<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="https://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{main/master}" lang="en">
<head />
<body>
<section layout:fragment="content">
    <div class="row">
        <th:block th:insert="fragments/menu-fragment :: menu" />
        <div class="col-md-10 mt-3">
            <div class="row">
                <div class="col-8"><h1>Welcome to Latter Day Ward</h1></div>
                <div class="col">
                    <div th:fragment="logout" th:if="${session.user != null}">
                        <span class="fw-bold">User: </span><span th:text="${session.user.username}" />
                    </div>
                    <a th:href="@{/user/ward}" class="btn btn-sm btn-primary position-relative my-2" th:if="${access_requests != null}">
                        Access Requests <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" th:text="${access_requests.size}"></span>
                    </a>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    Choose one of the following options:
                    <ul>
                        <li>Option #1 - Request to join a ward. You only need to request to join a ward if you'd like to
                            be a content editor for an existing ward. Once accepted as a content editor, you will see new options
                            to add or edit content.
                        </li>
                        <li>Option #2 - Create a new ward for API consumption from your own website.</li>
                        <ul>
                            <li>You will need your Ward Path as part of the path in your API calls.</li>
                            <li>Next create an API token. This token MUST be provided as an x-api-key in your HTTP header request.
                                <br /><small class="link-primary">- i.e. request.headers.set("x-api-key", "token_here")</small>
                            </li>
                            <li>
                                To view endpoints of this API, you can see the HTML Swagger file <a target="_blank" th:href="@{/swagger-ui/index.html}">here</a>
                                or the JSON Swagger <a target="_blank" th:href="@{/v3/api-docs/}">here.</a>
                                You can click the authorize button to enter your token and test the endpoints.
                            </li>
                        </ul>
                    </ul>
                </div>
            </div>
            <div class="row mt-4">
                <div class="col">
                    If you have any questions or issues, feel free to <a href="mailto:admin@latterdayward.com?subject=Latter%20Day%20Ward%20Question">email me.</a>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>